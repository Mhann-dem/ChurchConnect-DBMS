# Railway Configuration for ChurchConnect DBMS Backend
# This file helps Railway understand how to run the Django application

# Service configuration
[build]
# This tells Railway to use the Dockerfile
dockerfile = "Dockerfile"
# Build context
context = "."

# Environment variables that Railway should set (if not provided)
[env]
# Django settings
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"
PORT = "8000"

# Default values - can be overridden in Railway dashboard
DEBUG = "False"
ENVIRONMENT = "production"
ALLOWED_HOSTS = "*"
CORS_ALLOWED_ORIGINS = "*"

# Database configuration (Railway auto-provides DATABASE_URL)
# These are automatically populated by Railway PostgreSQL plugin
# DATABASE_URL will be set automatically

# Security - Generate these and set in Railway dashboard:
# SECRET_KEY - Use: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# EMAIL_HOST_PASSWORD - Your email service password

[start]
# How to start the application
cmd = "/app/start.sh"
# or for quick testing:
# cmd = "sh -c 'python manage.py migrate --noinput && python manage.py runserver 0.0.0.0:${PORT:-8000}'"
